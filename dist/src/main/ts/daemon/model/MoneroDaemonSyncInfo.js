"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _MoneroConnectionSpan = _interopRequireDefault(require("./MoneroConnectionSpan"));
var _MoneroPeer = _interopRequireDefault(require("./MoneroPeer"));

/**
 * Models daemon synchronization information.
 */
class MoneroDaemonSyncInfo {










  constructor(info) {
    Object.assign(this, info);

    // deserialize bigints
    if (this.credits !== undefined && typeof this.credits !== "bigint") this.credits = BigInt(this.credits);

    // copy peers
    if (this.peers) {
      for (let i = 0; i < this.peers.length; i++) {
        this.peers[i] = new _MoneroPeer.default(this.peers[i]);
      }
    }

    // copy spans
    if (this.spans) {
      for (let i = 0; i < this.spans.length; i++) {
        this.spans[i] = new _MoneroConnectionSpan.default(this.spans[i]);
      }
    }
  }

  toJson() {
    let json = Object.assign({}, this);
    if (json.peers !== undefined) {
      for (let i = 0; i < json.peers.length; i++) {
        json.peers[i] = json.peers[i].toJson();
      }
    }
    if (json.spans !== undefined) {
      for (let i = 0; i < json.spans.length; i++) {
        json.spans[i] = json.spans[i].toJson();
      }
    }
    if (json.credits !== undefined) json.credits = json.credits.toString();
    return json;
  }

  getHeight() {
    return this.height;
  }

  setHeight(height) {
    this.height = height;
    return this;
  }

  getPeers() {
    return this.peers;
  }

  setPeers(peers) {
    this.peers = peers;
    return this;
  }

  getSpans() {
    return this.spans;
  }

  setSpans(spans) {
    this.spans = spans;
    return this;
  }

  getTargetHeight() {
    return this.targetHeight;
  }

  setTargetHeight(targetHeight) {
    this.targetHeight = targetHeight;
    return this;
  }

  getNextNeededPruningSeed() {
    return this.nextNeededPruningSeed;
  }

  setNextNeededPruningSeed(nextNeededPruningSeed) {
    this.nextNeededPruningSeed = nextNeededPruningSeed;
    return this;
  }

  getOverview() {
    return this.overview;
  }

  setOverview(overview) {
    this.overview = overview;
    return this;
  }

  getCredits() {
    return this.credits;
  }

  setCredits(credits) {
    this.credits = credits;
    return this;
  }

  getTopBlockHash() {
    return this.topBlockHash;
  }

  setTopBlockHash(topBlockHash) {
    this.topBlockHash = topBlockHash;
    return this;
  }
}exports.default = MoneroDaemonSyncInfo;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfTW9uZXJvQ29ubmVjdGlvblNwYW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Nb25lcm9QZWVyIiwiTW9uZXJvRGFlbW9uU3luY0luZm8iLCJjb25zdHJ1Y3RvciIsImluZm8iLCJPYmplY3QiLCJhc3NpZ24iLCJjcmVkaXRzIiwidW5kZWZpbmVkIiwiQmlnSW50IiwicGVlcnMiLCJpIiwibGVuZ3RoIiwiTW9uZXJvUGVlciIsInNwYW5zIiwiTW9uZXJvQ29ubmVjdGlvblNwYW4iLCJ0b0pzb24iLCJqc29uIiwidG9TdHJpbmciLCJnZXRIZWlnaHQiLCJoZWlnaHQiLCJzZXRIZWlnaHQiLCJnZXRQZWVycyIsInNldFBlZXJzIiwiZ2V0U3BhbnMiLCJzZXRTcGFucyIsImdldFRhcmdldEhlaWdodCIsInRhcmdldEhlaWdodCIsInNldFRhcmdldEhlaWdodCIsImdldE5leHROZWVkZWRQcnVuaW5nU2VlZCIsIm5leHROZWVkZWRQcnVuaW5nU2VlZCIsInNldE5leHROZWVkZWRQcnVuaW5nU2VlZCIsImdldE92ZXJ2aWV3Iiwib3ZlcnZpZXciLCJzZXRPdmVydmlldyIsImdldENyZWRpdHMiLCJzZXRDcmVkaXRzIiwiZ2V0VG9wQmxvY2tIYXNoIiwidG9wQmxvY2tIYXNoIiwic2V0VG9wQmxvY2tIYXNoIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbWFpbi90cy9kYWVtb24vbW9kZWwvTW9uZXJvRGFlbW9uU3luY0luZm8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vbmVyb0Nvbm5lY3Rpb25TcGFuIGZyb20gXCIuL01vbmVyb0Nvbm5lY3Rpb25TcGFuXCI7XG5pbXBvcnQgTW9uZXJvUGVlciBmcm9tIFwiLi9Nb25lcm9QZWVyXCI7XG5cbi8qKlxuICogTW9kZWxzIGRhZW1vbiBzeW5jaHJvbml6YXRpb24gaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbmVyb0RhZW1vblN5bmNJbmZvIHtcblxuICBoZWlnaHQ6IG51bWJlcjtcbiAgcGVlcnM6IE1vbmVyb1BlZXJbXTtcbiAgc3BhbnM6IE1vbmVyb0Nvbm5lY3Rpb25TcGFuW107XG4gIHRhcmdldEhlaWdodDogbnVtYmVyO1xuICBuZXh0TmVlZGVkUHJ1bmluZ1NlZWQ6IG51bWJlcjtcbiAgb3ZlcnZpZXc6IHN0cmluZztcbiAgY3JlZGl0czogYmlnaW50O1xuICB0b3BCbG9ja0hhc2g6IHN0cmluZztcbiAgXG4gIGNvbnN0cnVjdG9yKGluZm8/OiBQYXJ0aWFsPE1vbmVyb0RhZW1vblN5bmNJbmZvPikge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5mbyk7XG5cbiAgICAvLyBkZXNlcmlhbGl6ZSBiaWdpbnRzXG4gICAgaWYgKHRoaXMuY3JlZGl0cyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB0aGlzLmNyZWRpdHMgIT09IFwiYmlnaW50XCIpIHRoaXMuY3JlZGl0cyA9IEJpZ0ludCh0aGlzLmNyZWRpdHMpO1xuICAgIFxuICAgIC8vIGNvcHkgcGVlcnNcbiAgICBpZiAodGhpcy5wZWVycykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBlZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMucGVlcnNbaV0gPSBuZXcgTW9uZXJvUGVlcih0aGlzLnBlZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb3B5IHNwYW5zXG4gICAgaWYgKHRoaXMuc3BhbnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zcGFucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNwYW5zW2ldID0gbmV3IE1vbmVyb0Nvbm5lY3Rpb25TcGFuKHRoaXMuc3BhbnNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgdG9Kc29uKCkge1xuICAgIGxldCBqc29uOiBhbnkgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzKTtcbiAgICBpZiAoanNvbi5wZWVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb24ucGVlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAganNvbi5wZWVyc1tpXSA9IGpzb24ucGVlcnNbaV0udG9Kc29uKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChqc29uLnNwYW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwganNvbi5zcGFucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBqc29uLnNwYW5zW2ldID0ganNvbi5zcGFuc1tpXS50b0pzb24oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGpzb24uY3JlZGl0cyAhPT0gdW5kZWZpbmVkKSBqc29uLmNyZWRpdHMgPSBqc29uLmNyZWRpdHMudG9TdHJpbmcoKTtcbiAgICByZXR1cm4ganNvbjtcbiAgfVxuICBcbiAgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICB9XG4gIFxuICBzZXRIZWlnaHQoaGVpZ2h0OiBudW1iZXIpOiBNb25lcm9EYWVtb25TeW5jSW5mbyB7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgXG4gIGdldFBlZXJzKCk6IE1vbmVyb1BlZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMucGVlcnM7XG4gIH1cbiAgXG4gIHNldFBlZXJzKHBlZXJzOiBNb25lcm9QZWVyW10pOiBNb25lcm9EYWVtb25TeW5jSW5mbyB7XG4gICAgdGhpcy5wZWVycyA9IHBlZXJzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIFxuICBnZXRTcGFucygpOiBNb25lcm9Db25uZWN0aW9uU3BhbltdIHtcbiAgICByZXR1cm4gdGhpcy5zcGFucztcbiAgfVxuICBcbiAgc2V0U3BhbnMoc3BhbnM6IE1vbmVyb0Nvbm5lY3Rpb25TcGFuW10pOiBNb25lcm9EYWVtb25TeW5jSW5mbyB7XG4gICAgdGhpcy5zcGFucyA9IHNwYW5zO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIFxuICBnZXRUYXJnZXRIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50YXJnZXRIZWlnaHQ7XG4gIH1cbiAgXG4gIHNldFRhcmdldEhlaWdodCh0YXJnZXRIZWlnaHQ6IG51bWJlcik6IE1vbmVyb0RhZW1vblN5bmNJbmZvIHtcbiAgICB0aGlzLnRhcmdldEhlaWdodCA9IHRhcmdldEhlaWdodDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBcbiAgZ2V0TmV4dE5lZWRlZFBydW5pbmdTZWVkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubmV4dE5lZWRlZFBydW5pbmdTZWVkO1xuICB9XG4gIFxuICBzZXROZXh0TmVlZGVkUHJ1bmluZ1NlZWQobmV4dE5lZWRlZFBydW5pbmdTZWVkOiBudW1iZXIpOiBNb25lcm9EYWVtb25TeW5jSW5mbyB7XG4gICAgdGhpcy5uZXh0TmVlZGVkUHJ1bmluZ1NlZWQgPSBuZXh0TmVlZGVkUHJ1bmluZ1NlZWQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgXG4gIGdldE92ZXJ2aWV3KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMub3ZlcnZpZXc7XG4gIH1cbiAgXG4gIHNldE92ZXJ2aWV3KG92ZXJ2aWV3OiBzdHJpbmcpOiBNb25lcm9EYWVtb25TeW5jSW5mbyB7XG4gICAgdGhpcy5vdmVydmlldyA9IG92ZXJ2aWV3O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIFxuICBnZXRDcmVkaXRzKCk6IGJpZ2ludCB7XG4gICAgcmV0dXJuIHRoaXMuY3JlZGl0cztcbiAgfVxuICBcbiAgc2V0Q3JlZGl0cyhjcmVkaXRzOiBiaWdpbnQpOiBNb25lcm9EYWVtb25TeW5jSW5mbyB7XG4gICAgdGhpcy5jcmVkaXRzID0gY3JlZGl0cztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBcbiAgZ2V0VG9wQmxvY2tIYXNoKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudG9wQmxvY2tIYXNoO1xuICB9XG4gIFxuICBzZXRUb3BCbG9ja0hhc2godG9wQmxvY2tIYXNoOiBzdHJpbmcpOiBNb25lcm9EYWVtb25TeW5jSW5mbyB7XG4gICAgdGhpcy50b3BCbG9ja0hhc2ggPSB0b3BCbG9ja0hhc2g7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6InlMQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ2UsTUFBTUUsb0JBQW9CLENBQUM7Ozs7Ozs7Ozs7O0VBV3hDQyxXQUFXQSxDQUFDQyxJQUFvQyxFQUFFO0lBQ2hEQyxNQUFNLENBQUNDLE1BQU0sQ0FBQyxJQUFJLEVBQUVGLElBQUksQ0FBQzs7SUFFekI7SUFDQSxJQUFJLElBQUksQ0FBQ0csT0FBTyxLQUFLQyxTQUFTLElBQUksT0FBTyxJQUFJLENBQUNELE9BQU8sS0FBSyxRQUFRLEVBQUUsSUFBSSxDQUFDQSxPQUFPLEdBQUdFLE1BQU0sQ0FBQyxJQUFJLENBQUNGLE9BQU8sQ0FBQzs7SUFFdkc7SUFDQSxJQUFJLElBQUksQ0FBQ0csS0FBSyxFQUFFO01BQ2QsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUcsSUFBSSxDQUFDRCxLQUFLLENBQUNFLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDMUMsSUFBSSxDQUFDRCxLQUFLLENBQUNDLENBQUMsQ0FBQyxHQUFHLElBQUlFLG1CQUFVLENBQUMsSUFBSSxDQUFDSCxLQUFLLENBQUNDLENBQUMsQ0FBQyxDQUFDO01BQy9DO0lBQ0Y7O0lBRUE7SUFDQSxJQUFJLElBQUksQ0FBQ0csS0FBSyxFQUFFO01BQ2QsS0FBSyxJQUFJSCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUcsSUFBSSxDQUFDRyxLQUFLLENBQUNGLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDMUMsSUFBSSxDQUFDRyxLQUFLLENBQUNILENBQUMsQ0FBQyxHQUFHLElBQUlJLDZCQUFvQixDQUFDLElBQUksQ0FBQ0QsS0FBSyxDQUFDSCxDQUFDLENBQUMsQ0FBQztNQUN6RDtJQUNGO0VBQ0Y7O0VBRUFLLE1BQU1BLENBQUEsRUFBRztJQUNQLElBQUlDLElBQVMsR0FBR1osTUFBTSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDO0lBQ3ZDLElBQUlXLElBQUksQ0FBQ1AsS0FBSyxLQUFLRixTQUFTLEVBQUU7TUFDNUIsS0FBSyxJQUFJRyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdNLElBQUksQ0FBQ1AsS0FBSyxDQUFDRSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzFDTSxJQUFJLENBQUNQLEtBQUssQ0FBQ0MsQ0FBQyxDQUFDLEdBQUdNLElBQUksQ0FBQ1AsS0FBSyxDQUFDQyxDQUFDLENBQUMsQ0FBQ0ssTUFBTSxDQUFDLENBQUM7TUFDeEM7SUFDRjtJQUNBLElBQUlDLElBQUksQ0FBQ0gsS0FBSyxLQUFLTixTQUFTLEVBQUU7TUFDNUIsS0FBSyxJQUFJRyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdNLElBQUksQ0FBQ0gsS0FBSyxDQUFDRixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQzFDTSxJQUFJLENBQUNILEtBQUssQ0FBQ0gsQ0FBQyxDQUFDLEdBQUdNLElBQUksQ0FBQ0gsS0FBSyxDQUFDSCxDQUFDLENBQUMsQ0FBQ0ssTUFBTSxDQUFDLENBQUM7TUFDeEM7SUFDRjtJQUNBLElBQUlDLElBQUksQ0FBQ1YsT0FBTyxLQUFLQyxTQUFTLEVBQUVTLElBQUksQ0FBQ1YsT0FBTyxHQUFHVSxJQUFJLENBQUNWLE9BQU8sQ0FBQ1csUUFBUSxDQUFDLENBQUM7SUFDdEUsT0FBT0QsSUFBSTtFQUNiOztFQUVBRSxTQUFTQSxDQUFBLEVBQVc7SUFDbEIsT0FBTyxJQUFJLENBQUNDLE1BQU07RUFDcEI7O0VBRUFDLFNBQVNBLENBQUNELE1BQWMsRUFBd0I7SUFDOUMsSUFBSSxDQUFDQSxNQUFNLEdBQUdBLE1BQU07SUFDcEIsT0FBTyxJQUFJO0VBQ2I7O0VBRUFFLFFBQVFBLENBQUEsRUFBaUI7SUFDdkIsT0FBTyxJQUFJLENBQUNaLEtBQUs7RUFDbkI7O0VBRUFhLFFBQVFBLENBQUNiLEtBQW1CLEVBQXdCO0lBQ2xELElBQUksQ0FBQ0EsS0FBSyxHQUFHQSxLQUFLO0lBQ2xCLE9BQU8sSUFBSTtFQUNiOztFQUVBYyxRQUFRQSxDQUFBLEVBQTJCO0lBQ2pDLE9BQU8sSUFBSSxDQUFDVixLQUFLO0VBQ25COztFQUVBVyxRQUFRQSxDQUFDWCxLQUE2QixFQUF3QjtJQUM1RCxJQUFJLENBQUNBLEtBQUssR0FBR0EsS0FBSztJQUNsQixPQUFPLElBQUk7RUFDYjs7RUFFQVksZUFBZUEsQ0FBQSxFQUFXO0lBQ3hCLE9BQU8sSUFBSSxDQUFDQyxZQUFZO0VBQzFCOztFQUVBQyxlQUFlQSxDQUFDRCxZQUFvQixFQUF3QjtJQUMxRCxJQUFJLENBQUNBLFlBQVksR0FBR0EsWUFBWTtJQUNoQyxPQUFPLElBQUk7RUFDYjs7RUFFQUUsd0JBQXdCQSxDQUFBLEVBQVc7SUFDakMsT0FBTyxJQUFJLENBQUNDLHFCQUFxQjtFQUNuQzs7RUFFQUMsd0JBQXdCQSxDQUFDRCxxQkFBNkIsRUFBd0I7SUFDNUUsSUFBSSxDQUFDQSxxQkFBcUIsR0FBR0EscUJBQXFCO0lBQ2xELE9BQU8sSUFBSTtFQUNiOztFQUVBRSxXQUFXQSxDQUFBLEVBQVc7SUFDcEIsT0FBTyxJQUFJLENBQUNDLFFBQVE7RUFDdEI7O0VBRUFDLFdBQVdBLENBQUNELFFBQWdCLEVBQXdCO0lBQ2xELElBQUksQ0FBQ0EsUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLE9BQU8sSUFBSTtFQUNiOztFQUVBRSxVQUFVQSxDQUFBLEVBQVc7SUFDbkIsT0FBTyxJQUFJLENBQUM1QixPQUFPO0VBQ3JCOztFQUVBNkIsVUFBVUEsQ0FBQzdCLE9BQWUsRUFBd0I7SUFDaEQsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU87SUFDdEIsT0FBTyxJQUFJO0VBQ2I7O0VBRUE4QixlQUFlQSxDQUFBLEVBQVc7SUFDeEIsT0FBTyxJQUFJLENBQUNDLFlBQVk7RUFDMUI7O0VBRUFDLGVBQWVBLENBQUNELFlBQW9CLEVBQXdCO0lBQzFELElBQUksQ0FBQ0EsWUFBWSxHQUFHQSxZQUFZO0lBQ2hDLE9BQU8sSUFBSTtFQUNiO0FBQ0YsQ0FBQ0UsT0FBQSxDQUFBQyxPQUFBLEdBQUF2QyxvQkFBQSJ9